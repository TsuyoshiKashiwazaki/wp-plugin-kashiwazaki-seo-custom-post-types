=== Kashiwazaki SEO Custom Post Types ===
Contributors: tsuyoshikashiwazaki
Tags: custom post type, post type, cpt, custom content, content type
Requires at least: 5.0
Tested up to: 6.6
Stable tag: 1.0.7
License: GPLv2 or later
License URI: https://www.gnu.org/licenses/gpl-2.0.html
Requires PHP: 7.0

カスタム投稿タイプを簡単に作成・編集・削除できるWordPressプラグイン

== Description ==

Kashiwazaki SEO Custom Post Typesは、WordPressサイトにカスタム投稿タイプを簡単に追加できるプラグインです。
コーディングの知識がなくても、管理画面から直感的な操作でカスタム投稿タイプを作成・管理できます。

= 主な機能 =

* カスタム投稿タイプの作成・編集・削除
* 日本語対応の管理画面
* 詳細なラベル設定
* サポート機能の選択（タイトル、エディター、アイキャッチ画像など）
* タクソノミーの関連付け
* REST API対応（ブロックエディター対応）
* アイコン選択機能
* URLリライト設定
* 階層化対応

= 使い方 =

1. プラグインをインストール・有効化
2. 管理画面の「Kashiwazaki SEO Custom Post Types」メニューをクリック
3. 「新規追加」ボタンをクリック
4. 必要な情報を入力して保存

= 作者について =

柏崎剛 - SEO対策研究室
https://tsuyoshikashiwazaki.jp/

== Installation ==

1. プラグインファイルを `/wp-content/plugins/kashiwazaki-seo-type-builder` ディレクトリにアップロード
2. WordPressの「プラグイン」メニューからプラグインを有効化
3. 管理画面に「Kashiwazaki SEO Custom Post Types」メニューが表示されます

== Frequently Asked Questions ==

= カスタム投稿タイプとは何ですか？ =

カスタム投稿タイプは、WordPressの標準の「投稿」や「固定ページ」以外に、独自のコンテンツタイプを作成できる機能です。
例えば、「商品」「お客様の声」「実績」などのコンテンツを管理するのに便利です。

= 作成したカスタム投稿タイプを削除するとどうなりますか？ =

カスタム投稿タイプの設定は削除されますが、既に投稿されたコンテンツはデータベースに残ります。
同じスラッグで再度カスタム投稿タイプを作成すると、コンテンツが再び表示されます。

= プラグインを無効化するとどうなりますか？ =

プラグインを無効化すると、作成したカスタム投稿タイプは表示されなくなりますが、データは保持されます。
プラグインを再度有効化すると、元通りに使用できます。

== Screenshots ==

1. カスタム投稿タイプ一覧画面
2. 新規作成・編集画面（基本設定タブ）
3. ラベル設定タブ
4. 詳細設定タブ
5. サポート機能選択
6. タクソノミー選択

== Changelog ==

= 1.0.7 =
* Add: 64文字までの長いスラッグに対応（URLスラッグと内部スラッグを分離）
* Add: カスタムリライトルールによる長いURL→短い内部名のマッピング機能
* Add: スラッグ入力時の20文字超過警告表示機能（フォーム内警告ボックス）
* Add: 記事移動機能にカテゴリー/タクソノミーフィルタリング機能を追加
* Add: 管理画面一覧に投稿数列を追加（クリックで投稿一覧へ遷移）
* Add: テーブルソート機能を追加（ラベル、投稿数、パス、スラッグの各列でソート可能）
* Improve: 短いURLへのアクセスをブロック（長いURLのみ許可）
* Improve: WordPress内部は20文字制限を維持しつつ、URLは64文字まで使用可能に
* Improve: 他のプラグインやテーマとの互換性を向上
* Improve: スラッグ入力フィールドを単一化（内部スラッグは自動生成）
* Improve: 管理画面一覧のデフォルトソートをパス順に変更
* Improve: スラッグ列でアーカイブURLを表示
* Fix: データベースマイグレーション機能追加（既存環境でも自動対応）
* Fix: メニュー位置が正しく機能するように修正

= 1.0.6 =
* Fixed: カスタム投稿タイプの階層URLで投稿が表示されない問題を修正
* Fixed: カスタム投稿タイプの投稿本文が表示されない問題を修正
* Added: 管理画面にタブ切り替え機能を実装（一覧/説明書）
* Added: パス列を追加し、階層構造を完全パス表示
* Added: 編集フォームに閉じるボタンを追加
* Improved: リライトルールのソート処理を改善し、より具体的なルールを優先
* Improved: 管理画面の横幅を100%に変更、表示領域を拡大
* Improved: ラベルクリックで投稿管理画面へ遷移可能に

= 1.0.5 =
* Added: 記事移動機能の実装（カスタム投稿タイプ間で記事を移動）
* Added: 管理画面に記事移動タブを追加
* Fixed: 「スラッグトップページ」で「表示しない」設定時に固定ページが表示される問題を修正
* Improved: 階層URLマッチングで最長パス優先ロジックを実装

= 1.0.4 =
* Fixed: 3階層ネストされたカスタム投稿タイプのアーカイブページで404エラーが発生する問題を修正
* Improved: URL検証ロジックで再帰的なフルパス構築に対応

= 1.0.3 =
* Added: 親ページ選択メタボックスにスラッグ編集フィールドを追加
* Improved: 階層構造のカスタム投稿タイプで親を選択してもスラッグが編集可能に
* Improved: スラッグ入力時にリアルタイムで既存パネルと同期

= 1.0.2 =
* Changed: 管理画面UIのシンプル化（不要な設定項目を削除）
* Improved: 操作性向上とWordPress現代標準への準拠

= 1.0.1 =
* Fixed: カスタム投稿タイプのスラッグ以下に設置された固定ページが404になる問題を修正
* Improved: アーカイブコントローラーのURL判定ロジックを改善

= 1.0.0 =
* 初回リリース

== Upgrade Notice ==

= 1.0.7 =
64文字スラッグ対応の大規模アップデート。記事移動機能にカテゴリーフィルタリングを追加。データベースは自動マイグレーションされます。

= 1.0.6 =
カスタム投稿タイプの階層URLで投稿が正しく表示され、管理画面UIが大幅に改善されました。アップデートを推奨します。

= 1.0.5 =
アーカイブ表示制御の不具合を修正しました。アップデートを推奨します。

= 1.0.4 =
3階層以上のネストされたカスタム投稿タイプのアーカイブページが正しく表示されるようになりました

= 1.0.3 =
親ページを選択した状態でもスラッグを自由に編集できるようになりました

= 1.0.2 =
管理画面がよりシンプルで使いやすくなりました

= 1.0.1 =
カスタム投稿タイプのスラッグ以下の固定ページが正しく表示されるようになりました

= 1.0.0 =
初回リリース

